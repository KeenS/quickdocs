<header>
  <h2 class="project-name"><a href="/<% @var name -escape uri %>/"><% @var name %></a></h2>
  <span class="subtitle">API Reference</span>
  <% @include header-links.tmpl %>
</header>

<% @if errors %>
<section class="error">
<p class="error-message">Error has occured while parsing this library (or its dependencies). Wait patiently, or report <a href="https://github.com/quickdocs/issues">issues</a> to hasten my bug-fixing.</p>

<pre class="error-detail"><% @loop errors %>
<%= (emb::escape-for-xml env) %>
<% @endloop %></pre>
</section>
<% @endif %>

<% @if system-list %>
<div class="toc">
  <ul>
    <% @loop system-list %>
      <li><a href="#system-<% @var name -escape uri %>"><% @var name %></a></li>
      <% @if package-list %>
      <ul>
      <% @loop package-list %>
        <li><a href="#package-<% @var name -escape uri %>"><% @var name %></a></li>
      <% @endloop %>
      </ul>
      <% @endif %>
    <% @endloop %>
  </ul>
</div>

<article class="api">
  <% @loop system-list %>
    <a name="system-<%= (emb::escape-for-xml (getf env :name)) %>"></a>
    <h1><% @var name %></h1>
    <% @if description %>
    <p class="description"><% @with description %><% @include _trim %><% @endwith %></p>
    <% @endif %>
    <% @loop package-list %>
      <section class="package">
        <% @include package.tmpl %>
      </section>
    <% @endloop %>
  <% @endloop %>
</article>
<% @endif %>
